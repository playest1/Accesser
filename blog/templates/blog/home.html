{% extends "blog/base.html" %}
{% block content %}
{% for post in posts %}
<div class="card-panel" style="margin-top: 20px">
    <img src="{{ post.author.profile.image.url }}" class="circle responsive-img" style="height: 50px; width: 50px">
    <p style="padding: 0; margin-bottom: 0; color: gray"><span><a  style="color: #ee6e73" href="{% url 'user-posts' post.author.username %}">{{post.author}}</a></span>
        {{post.date_posted|date:"F d, Y"}}</p>
    <h5 style="padding: 0; margin: 0"><a class="black-text" href="{% url 'post-detail' post.id %}">{{post.title}}</a></h5>
    <p style="padding: 0; margin-top: 0"> {{post.content}}</p>
</div>
{% endfor %}

<div class="pagination">
        {% if is_paginated %}

        {% if page_obj.has_previous %}
     <a class="btn waves-effect" style="background: #ee6e73" href="?page=1">First</a>
     <a class="btn waves-effect" style="background: #ee6e73" href="?page={{ page_obj.previous_page_number }}"><i class="material-icons">chevron_left</i></a>
        {% endif %}
     
        {% for num in page_obj.paginator.page_range %}
          {% if page_obj.number == num %}
        <a class="btn waves-effect" style="background: transparent; border: 2px#ee6e73 solid; color: #ee6e73" href="?page={{ num }}">{{ num }}</a>
        {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
        <a class="btn waves-effect" style="background: #ee6e73" href="?page={{ num }}">{{ num }}</a>
          {% endif %}
        {% endfor %}
     
        {% if page_obj.has_next %}
     <a class="btn waves-effect" style="background: #ee6e73" href="?page={{ page_obj.next_page_number }}"><i class="material-icons">chevron_right</i></a>
     <a class="btn waves-effect" style="background: #ee6e73" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
        {% endif %}
     
     {% endif %}
</div>


{% endblock content %}

